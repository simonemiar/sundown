(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2],{334:function(e,t,r){"use strict";r.r(t);var o={data:function(){return{}},props:{image:{type:Object,default:function(){}}},methods:{clickImage:function(image){this.$emit("click-image",image)}},computed:{spacereport:function(){return this.$store.getters.spacereport}}},n=r(9),component=Object(n.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"inline-flex"},[t("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],staticClass:"w-40 h-40 m-2",attrs:{"data-src":e.image.img_src,alt:"space image",loading:"lazy"},on:{click:function(t){return e.clickImage(e.image)}}})])}),[],!1,null,null,null);t.default=component.exports},347:function(e,t,r){"use strict";r.r(t);var o=r(21),n=r(54),c=r(11);r(73),r(13),r(92),r(55),r(35),r(26),r(34),r(43),r(27),r(44);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"Images",layout:"flow",data:function(){return{error:[],isimagescompleted:this.$store.state.spacereport.iscompleted.isimagescompleted,currentreport:{}}},fetch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?api_key=DEMO_KEY&sol=33FwE0MvWwZSp4zdEjnccK2wfLGQ6CaMwZtL6P8f").then((function(e){return e.json()}));case 2:data=t.sent,console.log(data),e.missionimages=data.photos;case 5:case"end":return t.stop()}}),t)})))()})),mounted:function(){if(localStorage.currentReport){var e=localStorage.getItem("currentReport"),t=JSON.parse(e);Object.assign(this.currentreport,t);this.$store.commit("setCurrentReport",this.currentreport)}else this.$store.commit("setCurrentReport",this.currentreport)},methods:{clickHandle:function(e){this.newmissionimages.length<7&&this.newmissionimages.length>0?(this.$store.commit("setCompleted",{key:"isimagescompleted",value:!0}),this.$router.push("/flow/map"),this.updateLocalstorage()):this.error=["Please select between one and maximum seven images to proceed"]},pushImage:function(e){console.log("test push",e),this.$store.commit("removeOriginalImage",e)},removeNewImage:function(e){console.log("test remove",e),this.$store.commit("removeNewImage",e),this.missionimages=[].concat(Object(n.a)(this.missionimages),[e])},updateLocalstorage:function(){var e=localStorage.getItem("currentReport"),t=JSON.parse(e),r=l(l({},t),{missionimages:this.missionimages,newmissionimages:this.newmissionimages,iscompleted:l(l({},t.iscompleted),{},{isimagescompleted:this.$store.state.spacereport.iscompleted.isimagescompleted})});this.currentreport=r,localStorage.setItem("currentReport",JSON.stringify(r))}},computed:{spacereport:function(){return this.$store.getters.spacereport},iscompleted:function(){return this.$store.getters.spacereport.iscompleted},missionimages:{get:function(){return this.currentreport.missionimages||this.$store.getters.spacereport.missionimages},set:function(e){return console.log("set test old",e),this.$store.commit("setSpacereport",{key:"missionimages",value:e})}},newmissionimages:{get:function(){return this.$store.getters.spacereport.newmissionimages||this.currentreport.newmissionimages},set:function(e){return console.log("set test new",e),this.$store.commit("setSpacereport",{key:"newmissionimages",value:e})}}}},d=f,h=r(9),component=Object(h.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-blue-50 w-screen h-screen"},[t("div",{staticClass:"max-w-screen-lg m-auto px-6"},[e.error.length?t("p",{staticClass:"m-2 text-red-700"},[t("b",[e._v("please correct the following errors")]),e._v(" "),t("ul",e._l(e.error,(function(r){return t("li",{key:r},[e._v("\n          "+e._s(r)+"\n        ")])})),0)]):e._e()]),e._v(" "),t("section",{staticClass:"sm:grid sm:grid-cols-2 back-enter-active",attrs:{id:"section_layout"}},[t("div",{staticClass:"m-2 h-80"},[t("p",{staticClass:"font-bold"},[e._v("Space mission images")]),e._v(" "),t("div",{staticClass:"border border-gray-300 bg-white overflow-scroll h-full",attrs:{id:"report_container"}},[e.$fetchState.pending?t("div",[e._v("Loading...")]):t("div",e._l(e.missionimages,(function(r){return t("Missionimage",{key:r.img_src,attrs:{image:r},on:{"click-image":e.pushImage}})})),1)])]),e._v(" "),t("div",{staticClass:"m-2 mt-10 sm:mt-2"},[t("p",{staticClass:"font-bold"},[e._v("Selected images to report")]),e._v(" "),t("div",{staticClass:"border border-gray-300 bg-white overflow-scroll h-80",attrs:{id:"select_container"}},e._l(e.newmissionimages,(function(r){return t("Missionimage",{key:r.img_src,attrs:{image:r},on:{"click-image":e.removeNewImage}})})),1)])]),e._v(" "),t("div",{staticClass:"flex px-8 place-content-between max-w-screen-lg sm:m-auto"},[t("NuxtLink",{staticClass:"secondary-button",attrs:{to:"/flow/details"}},[t("button",[e._v("back")])]),e._v(" "),t("button",{staticClass:"primary-button",on:{click:function(t){return e.clickHandle()}}},[e._v("forward")])],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Missionimage:r(334).default,Button:r(91).default})}}]);